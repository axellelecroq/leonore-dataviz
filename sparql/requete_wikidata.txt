PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX p: <http://www.wikidata.org/prop/>
PREFIX ps: <http://www.wikidata.org/prop/statement/>
PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bd: <http://www.bigdata.com/rdf#>

SELECT ?nom ?leonoreid ?bnfid ?datenaissance ?ville ?coordinatelieuN ?datedeces ?villedc ?coordinatelieudc ?diplome (group_concat(DISTINCT ?metier;separator=" | ") as ?professions)
WHERE {
  ?person wdt:P640 ?leonoreid;
          wdt:P1559 ?nom.
          
  OPTIONAL{?person wdt:P106 ?occupation.
           ?occupation rdfs:label ?metier.}
  
  OPTIONAL{?person wdt:P268 ?bnfid.}
  
  OPTIONAL{?person wdt:P569 ?datenaissance.
           ?person wdt:P19 ?lieuNaissance.
           ?lieuNaissance wdt:P625 ?coordinatelieuN.
           ?lieuNaissance rdfs:label ?ville.}
  
  OPTIONAL{?person wdt:P570 ?datedeces.
           ?person wdt:P20 ?lieudeces.
           ?lieudeces wdt:P625 ?coordinatelieudc.
           ?lieudeces rdfs:label ?villedc.}
  
  OPTIONAL{?person wdt:P512 ?niveauacademique.
           ?niveauacademique rdfs:label ?diplome.}
  
  SERVICE wikibase:label { 
    bd:serviceParam wikibase:language "fr". 
  }
}
GROUP BY ?nom ?leonoreid ?bnfid ?datenaissance ?ville ?coordinatelieuN ?datedeces ?villedc ?coordinatelieudc ?diplome

-----

Requête trop importante à découper en morceaux : temps d'exécution trop long.

